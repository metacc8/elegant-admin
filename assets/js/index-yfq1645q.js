
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-Dj6CjgGH.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang-CHjDuWkR.js";import{U as N,W as $,V as A,P as L}from"./@element-plus-Ngrzdf6G.js";import{g as D,a as S,e as O,d as E}from"./sys_role-BytESiiV.js";import{_ as V}from"./roleDrawer.vue_vue_type_script_setup_true_lang-BV6SuavH.js";import W from"./roleAuthDrawer-Dssr_bX1.js";import{u as B}from"./useHandleData-COM1THrx.js";import{d as j,r as m,k as v,a1 as t,aj as w,a as H,c as q,f as u,X as r,u as l,$ as c}from"./@vue-DJ53MWs5.js";import"./sortablejs-C_eVYoc1.js";import"./@imengyu-BQwzwvVc.js";import"./vue-CAygiDOH.js";import"./vue-esign-BNnrYaMl.js";import"./index-CF0Df7v0.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-Dd0W0IWH.js";import"./floating-vue-DjZaMi6K.js";import"./@floating-ui-Y0iFLo_g.js";import"./vue-m-message-BxJX2Zqc.js";import"./overlayscrollbars-CZjZ1Dbc.js";import"./@iconify-C4HLlXtv.js";import"./overlayscrollbars-vue-BxfA_dC8.js";import"./@headlessui-Bm2TyfRI.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-RCkyKLW7.js";import"./lodash-es-l8Yk8yFo.js";import"./pinia-DmVFObHF.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-Bg2mojPD.js";import"./hotkeys-js-BfWqkGRU.js";import"./element-plus-C6knWGiR.js";import"./@vueuse-DVujDNXP.js";import"./nprogress-BdJdCxhg.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-p2P62yYc.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./vue-i18n-BnGu2oZ8.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-PTJBK6lV.js";import"./path-browserify-DTVwunqE.js";import"./axios-DmypytPv.js";import"./GridItem.vue_vue_type_script_setup_true_lang-B-s0jwix.js";import"./sys_menu-xVVpvHg5.js";const z={class:"table-container"},U={class:"table-box"},X={class:"flex"},F={class:"flex flex-wrap justify-center"},je=j({name:"SysRoleList",__name:"index",setup(G){const n=m(),g=v({});function k(e){return{list:e&&e.records||[],total:e&&e.total||0}}const d=m({});function x(e){d.value=e;let a={...e};return D(a)}const R=v([{prop:"index",label:"排序",width:80,render:e=>t("span",null,[e.$index+(d.value.pageNum-1)*d.value.pageSize+1])},{prop:"roleName",label:"角色名称",minWidth:100,search:{el:"input"}},{prop:"alias",label:"角色别名",minWidth:100},{prop:"openStatus",label:"状态",enum:[{label:"启用",value:"OPEN"},{label:"停用",value:"CLOSE"}],fieldNames:{label:"label",value:"value"},minWidth:100,search:{el:"tree-select",props:{filterable:!0}},render:e=>t(w("el-tag"),{type:e.row.openStatus==="OPEN"?"success":"danger"},{default:()=>[e.row.openStatus==="OPEN"?"启用":"停用"]})},{prop:"sort",label:"排序值",minWidth:100},{prop:"operation",label:"操作",fixed:"right",width:260}]),f=m();function y(e={}){var o;let a={rowData:{...e},getTableList:(o=n.value)==null?void 0:o.getTableList};f.value.acceptParams(a)}const _=m();function b(e,a){var i,s;const o={title:e==="add"?"新增":e==="edit"?"编辑":"查看",isView:e==="show",row:{...a},api:e==="add"?S:e==="edit"?O:void 0,getTableList:(i=n.value)==null?void 0:i.getTableList};(s=_.value)==null||s.acceptParams(o)}async function C(e){var a;await B(E,{id:e.id},`删除【${e.roleName}】`),(a=n.value)==null||a.getTableList()}return(e,a)=>{const o=w("el-button"),i=T,s=P;return H(),q("div",z,[u("div",U,[t(s,{ref_key:"proTableRef",ref:n,border:!1,title:"角色列表","request-api":x,columns:l(R),"data-callback":k,"init-param":l(g),"show-pagination":!0,"highlight-current-row":""},{tableHeader:r(()=>[u("div",X,[t(i,{value:["add:role:btn"]},{default:r(()=>[t(o,{type:"primary",icon:l(N),onClick:a[0]||(a[0]=p=>b("add"))},{default:r(()=>[c(" 新增角色 ")]),_:1},8,["icon"])]),_:1})])]),operation:r(p=>[u("div",F,[t(i,{class:"mr-5px",value:["role:auth:btn"]},{default:r(()=>[t(o,{type:"primary",link:"",icon:l($),onClick:h=>y(p.row)},{default:r(()=>[c(" 权限配置 ")]),_:2},1032,["icon","onClick"])]),_:2},1024),t(i,{class:"mr-5px",value:["edit:role:btn"]},{default:r(()=>[t(o,{type:"primary",link:"",icon:l(A),onClick:h=>b("edit",p.row)},{default:r(()=>[c(" 编辑 ")]),_:2},1032,["icon","onClick"])]),_:2},1024),t(i,{class:"mr-5px",value:["del:role:btn"]},{default:r(()=>[t(o,{type:"danger",link:"",icon:l(L),onClick:h=>C(p.row)},{default:r(()=>[c(" 删除 ")]),_:2},1032,["icon","onClick"])]),_:2},1024)])]),_:1},8,["columns","init-param"]),t(V,{ref_key:"drawerRef",ref:_},null,512),t(W,{ref_key:"roleAuthDrawerRef",ref:f},null,512)])])}}});export{je as default};
