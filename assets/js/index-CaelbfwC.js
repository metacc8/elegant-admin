
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-Dd-8bRkn.js";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang-CPBAIP8-.js";import{U as N,V as P,P as A}from"./@element-plus-Ngrzdf6G.js";import{x as p,P as m}from"./index-DR4x_9r6.js";import{_ as L}from"./userDrawer.vue_vue_type_script_setup_true_lang-DyolvCSi.js";import{u as O}from"./useHandleData-jH7BNk8h.js";import{d as S,r as h,k as v,a1 as a,aj as g,a as W,c as D,f as u,X as i,u as s,$ as f}from"./@vue-DJ53MWs5.js";import"./sortablejs-C_eVYoc1.js";import"./@imengyu-BQwzwvVc.js";import"./vue-CAygiDOH.js";import"./vue-esign-BNnrYaMl.js";import"./GridItem.vue_vue_type_script_setup_true_lang-B-s0jwix.js";import"./element-plus-DdTkCxgE.js";import"./lodash-es-l8Yk8yFo.js";import"./@vueuse-Bz9Gvxjd.js";import"./nprogress-BdJdCxhg.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-p2P62yYc.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-Y0iFLo_g.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-Dd0W0IWH.js";import"./floating-vue-DjZaMi6K.js";import"./vue-m-message-BxJX2Zqc.js";import"./overlayscrollbars-CZjZ1Dbc.js";import"./@iconify-C4HLlXtv.js";import"./overlayscrollbars-vue-BxfA_dC8.js";import"./@headlessui-Bm2TyfRI.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-RCkyKLW7.js";import"./pinia-DmVFObHF.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-Bg2mojPD.js";import"./hotkeys-js-BfWqkGRU.js";import"./vue-i18n-BnGu2oZ8.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-PTJBK6lV.js";import"./path-browserify-DTVwunqE.js";import"./axios-DmypytPv.js";function E(r){return p.post(`${m}/admin/sysUser/page`,r)}function R(r){return p.post(`${m}/admin/sysUser/save`,r)}function V(r){return p.put(`${m}/admin/sysUser/update`,r)}function H(r){return p.delete(`${m}/admin/sysUser/delete`,r)}const M={class:"table-container"},Y={class:"table-box"},B={class:"flex"},j={class:"flex flex-wrap justify-center"},Se=S({name:"SysUserList",__name:"index",setup(r){const d=h(),w=v({});function k(e){return{list:e&&e.records||[],total:e&&e.total||0}}function y(e){let t={...e};return E(t)}const x=v([{type:"index",label:"排序",width:80},{prop:"name",label:"姓名",minWidth:100,search:{el:"input"}},{prop:"gender",label:"性别",enum:[{label:"男",value:"MAN"},{label:"女",value:"WOMAN"}],search:{el:"select"}},{prop:"phone",label:"登录账号",minWidth:100},{prop:"roleNames",label:"角色",minWidth:100},{prop:"openStatus",label:"用户状态",enum:[{label:"启用",value:"OPEN"},{label:"停用",value:"CLOSE"}],fieldNames:{label:"label",value:"value"},minWidth:100,search:{el:"tree-select",props:{filterable:!0}},render:e=>a(g("el-tag"),{type:e.row.openStatus==="OPEN"?"success":"danger"},{default:()=>[e.row.openStatus==="OPEN"?"启用":"停用"]})},{prop:"createTime",label:"创建时间",minWidth:100,search:{el:"date-picker",span:1,props:{type:"datetimerange",valueFormat:"YYYY-MM-DD HH:mm:ss"}}},{prop:"operation",label:"操作",fixed:"right",width:200}]),_=h();function b(e,t){var o,l;const n={title:e==="add"?"新增":e==="edit"?"编辑":"查看",isView:e==="show",row:{...t},api:e==="add"?R:e==="edit"?V:void 0,getTableList:(o=d.value)==null?void 0:o.getTableList};(l=_.value)==null||l.acceptParams(n)}async function $(e){var t;await O(H,{id:e.id},`删除【${e.name}】`),(t=d.value)==null||t.getTableList()}return(e,t)=>{const n=g("el-button"),o=C,l=U;return W(),D("div",M,[u("div",Y,[a(l,{ref_key:"proTableRef",ref:d,height:"100%","highlight-current-row":"",border:!1,title:"用户列表","request-api":y,columns:s(x),"data-callback":k,"init-param":s(w),"show-pagination":!0},{tableHeader:i(()=>[u("div",B,[a(o,{value:["add:user:btn"]},{default:i(()=>[a(n,{type:"primary",icon:s(N),onClick:t[0]||(t[0]=c=>b("add"))},{default:i(()=>[f(" 新增用户 ")]),_:1},8,["icon"])]),_:1})])]),operation:i(c=>[u("div",j,[a(o,{class:"mr-5px",value:["edit:user:btn"]},{default:i(()=>[a(n,{type:"primary",link:"",icon:s(P),onClick:T=>b("edit",c.row)},{default:i(()=>[f(" 编辑 ")]),_:2},1032,["icon","onClick"])]),_:2},1024),a(o,{class:"mr-5px",value:["del:user:btn"]},{default:i(()=>[a(n,{type:"danger",link:"",icon:s(A),onClick:T=>$(c.row)},{default:i(()=>[f(" 删除 ")]),_:2},1032,["icon","onClick"])]),_:2},1024)])]),_:1},8,["columns","init-param"]),a(L,{ref_key:"drawerRef",ref:_},null,512)])])}}});export{Se as default};
