
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-C66rOj0F.js";import{y as B,u as q,a as H}from"./index-DR4x_9r6.js";import{d as A,a,c as l,R as $,aj as c,aq as x,a1 as o,X as e,u as d,$ as t,f as s,a0 as X,Y as _}from"./@vue-DJ53MWs5.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-CPBAIP8-.js";import{_ as z}from"./index.vue_vue_type_script_setup_true_lang-BtwM8tsY.js";import{u as F}from"./vue-router-Bg2mojPD.js";import{u as I}from"./useMainPage-BJcDjUi7.js";import{a as f}from"./element-plus-DdTkCxgE.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-Dd0W0IWH.js";import"./@imengyu-BQwzwvVc.js";import"./vue-CAygiDOH.js";import"./floating-vue-DjZaMi6K.js";import"./@floating-ui-Y0iFLo_g.js";import"./vue-m-message-BxJX2Zqc.js";import"./overlayscrollbars-CZjZ1Dbc.js";import"./@iconify-C4HLlXtv.js";import"./overlayscrollbars-vue-BxfA_dC8.js";import"./@headlessui-Bm2TyfRI.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-RCkyKLW7.js";import"./lodash-es-l8Yk8yFo.js";import"./pinia-DmVFObHF.js";import"./vue-demi-Dq6ymT-8.js";import"./hotkeys-js-BfWqkGRU.js";import"./vue-i18n-BnGu2oZ8.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-PTJBK6lV.js";import"./path-browserify-DTVwunqE.js";import"./axios-DmypytPv.js";import"./@vueuse-Bz9Gvxjd.js";import"./nprogress-BdJdCxhg.js";import"./@element-plus-Ngrzdf6G.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-p2P62yYc.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";const J=A({name:"AuthAll",__name:"index",props:{value:{}},setup(k){const h=k;function v(){return B().authAll(h.value)}return(n,C)=>(a(),l("div",null,[v()?$(n.$slots,"default",{key:0}):$(n.$slots,"no-auth",{key:1})]))}}),K={key:0},L={key:1},O=s("h3",null,"切换帐号",-1),Q=s("h3",null,"帐号权限",-1),W=s("h3",null,"访问鉴权页面",-1),Z=s("h3",null,"鉴权组件（请对照代码查看）",-1),ee=s("h3",null,"鉴权指令（请对照代码查看）",-1),oe=s("h3",null,"鉴权函数（请对照代码查看）",-1),Xe=A({__name:"index",setup(k){const h=F(),v=q(),n=H(),{auth:C,authAll:P}=B(),S=I();async function R(m){await n.login({account:m,password:""}),await n.getPermissions(),S.reload()}function V(){h.push({name:"PermissionDemoTest"})}function b(m){C(m)?f.success("校验通过"):f.error("校验不通过")}function T(m){P(m)?f.success("校验通过"):f.error("校验不通过")}return(m,i)=>{const D=z,w=c("ElRadioButton"),G=c("ElRadioGroup"),p=c("ElButton"),r=c("ElTag"),g=Y,M=J,E=c("ElButtonGroup"),N=U,y=x("auth"),j=x("auth-all");return a(),l("div",null,[o(D,{title:"权限验证"}),o(N,null,{default:e(()=>[d(v).settings.app.enablePermission?(a(),l("div",L,[O,o(G,{modelValue:d(n).account,"onUpdate:modelValue":i[0]||(i[0]=u=>d(n).account=u),onChange:R},{default:e(()=>[o(w,{label:"admin",value:"admin"}),o(w,{label:"test",value:"test"}),o(w,{label:"hooray",value:"hooray"},{default:e(()=>[t(" hooray(无权限) ")]),_:1})]),_:1},8,["modelValue"]),Q,s("div",null,X(d(n).permissions),1),W,s("div",null,[o(p,{onClick:V},{default:e(()=>[t(" 点击访问 ")]),_:1})]),Z,s("div",null,[o(g,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[o(r,{type:"danger"},{default:e(()=>[t(" 你没有 permission.browse 权限 ")]),_:1})]),default:e(()=>[o(r,null,{default:e(()=>[t("你有 permission.browse 权限")]),_:1})]),_:1}),o(g,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[o(r,{type:"danger"},{default:e(()=>[t(" 你没有 permission.create 权限 ")]),_:1})]),default:e(()=>[o(r,null,{default:e(()=>[t("你有 permission.create 权限")]),_:1})]),_:1}),o(g,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[o(r,{type:"danger"},{default:e(()=>[t(" 你没有 permission.browse 或 permission.create 权限 ")]),_:1})]),default:e(()=>[o(r,null,{default:e(()=>[t("你有 permission.browse 或 permission.create 权限")]),_:1})]),_:1}),o(M,{value:["permission.browse","permission.create"]},{"no-auth":e(()=>[o(r,{type:"danger"},{default:e(()=>[t(" 你没有 permission.browse 和 permission.create 权限 ")]),_:1})]),default:e(()=>[o(r,null,{default:e(()=>[t("你有 permission.browse 和 permission.create 权限")]),_:1})]),_:1})]),ee,s("div",null,[_((a(),l("div",null,[t(" 如果你有 permission.browse 权限则能看到这句话 ")])),[[y,"permission.browse"]]),_((a(),l("div",null,[t(" 如果你有 permission.create 权限则能看到这句话 ")])),[[y,"permission.create"]]),_((a(),l("div",null,[t(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")])),[[y,["permission.browse","permission.create"]]]),_((a(),l("div",null,[t(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")])),[[j,["permission.browse","permission.create"]]])]),oe,s("div",null,[o(E,{style:{display:"block","margin-bottom":"10px"}},{default:e(()=>[o(p,{onClick:i[1]||(i[1]=u=>b("permission.browse"))},{default:e(()=>[t(" 校验 permission.browse 权限 ")]),_:1}),o(p,{onClick:i[2]||(i[2]=u=>b("permission.create"))},{default:e(()=>[t(" 校验 permission.create 权限 ")]),_:1})]),_:1}),o(E,null,{default:e(()=>[o(p,{onClick:i[3]||(i[3]=u=>b(["permission.browse","permission.create"]))},{default:e(()=>[t(" 校验 permission.browse 或 permission.create 权限 ")]),_:1}),o(p,{onClick:i[4]||(i[4]=u=>T(["permission.browse","permission.create"]))},{default:e(()=>[t(" 校验 permission.browse 和 permission.create 权限 ")]),_:1})]),_:1})])])):(a(),l("div",K," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});export{Xe as default};
