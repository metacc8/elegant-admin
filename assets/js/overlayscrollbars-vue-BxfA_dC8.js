
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{O as y}from"./overlayscrollbars-CZjZ1Dbc.js";import{d as z,t as B,s as w,r as R,az as _,w as b,u,a as I,W as h,X as x,R as j,c as A,Z as E,e as q}from"./@vue-DJ53MWs5.js";const D=()=>{if(typeof window>"u"){const o=()=>{};return[o,o]}let s,t;const l=window,n=typeof l.requestIdleCallback=="function",r=l.requestAnimationFrame,a=l.cancelAnimationFrame,p=n?l.requestIdleCallback:r,f=n?l.cancelIdleCallback:a,e=()=>{f(s),a(t)};return[(o,m)=>{e(),s=p(n?()=>{e(),t=r(o)}:o,typeof m=="object"?m:{timeout:2233})},e]},U=s=>{let t=null,l,n,r;const a=w(s||{}),[p,f]=D();return b(()=>{var e;return u((e=a.value)==null?void 0:e.defer)},e=>{r=e},{deep:!0,immediate:!0}),b(()=>{var e;return u((e=a.value)==null?void 0:e.options)},e=>{l=e,y.valid(t)&&t.options(l||{},!0)},{deep:!0,immediate:!0}),b(()=>{var e;return u((e=a.value)==null?void 0:e.events)},e=>{n=e,y.valid(t)&&t.on(n||{},!0)},{deep:!0,immediate:!0}),q(()=>{f(),t==null||t.destroy()}),[e=>{if(y.valid(t))return t;const o=()=>t=y(e,l||{},n||{});r?p(o,r):o()},()=>t]},$=z({__name:"OverlayScrollbarsComponent",props:{element:{type:[String,Object],default:"div"},options:{type:Object},events:{type:Object},defer:{type:[Boolean,Object]}},emits:["osInitialized","osUpdated","osDestroyed","osScroll"],setup(s,{expose:t,emit:l}){const n=s,r={initialized:"osInitialized",updated:"osUpdated",destroyed:"osDestroyed",scroll:"osScroll"},{element:a,options:p,events:f,defer:e}=B(n),o=w(null),m=w(null),O=R(),[S,C]=U({options:p,events:O,defer:e});return t({osInstance:C,getElement:()=>o.value}),_(i=>{const{value:d}=o,{value:v}=m;d&&(S(a.value==="body"?{target:d,cancel:{body:null}}:{target:d,elements:{viewport:v,content:v}}),i(()=>{var c;return(c=C())==null?void 0:c.destroy()}))}),b(()=>u(f),i=>{const d=i||{};O.value=Object.keys(r).reduce((v,c)=>{const k=d[c];return v[c]=[(...g)=>l(r[c],...g),...(Array.isArray(k)?k:[k]).filter(Boolean)],v},{})},{deep:!0,immediate:!0}),(i,d)=>(I(),h(E(u(a)),{"data-overlayscrollbars-initialize":"",ref_key:"elementRef",ref:o},{default:x(()=>[u(a)==="body"?j(i.$slots,"default",{key:0}):(I(),A("div",{key:1,"data-overlayscrollbars-contents":"",ref_key:"slotRef",ref:m},[j(i.$slots,"default")],512))]),_:3},512))}});export{$ as P};
