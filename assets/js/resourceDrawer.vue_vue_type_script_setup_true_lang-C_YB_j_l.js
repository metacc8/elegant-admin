
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{d as E,k as I,r as d,aj as u,a as S,W as h,X as t,a1 as e,$ as f,Y as y,a2 as C,u as _}from"./@vue-DJ53MWs5.js";import{o as D,a as T}from"./@element-plus-Ngrzdf6G.js";import{j as q}from"./lodash-es-l8Yk8yFo.js";import{a as R}from"./element-plus-DdTkCxgE.js";const B=E({name:"ResourceDrawer",__name:"resourceDrawer",setup($,{expose:V}){const b=I({name:[{required:!0,message:"请输入API名称!"}],method:[{required:!0,message:"请输入API方法类型!"}],apiUrl:[{required:!0,message:"请输入API地址!"}]}),n=d(!1),r=d({isView:!1,title:"",row:{}}),a=d({});function w(s){a.value=s.row,r.value=s,n.value=!0}const p=d();function P(){p.value.validate(async s=>{if(s)try{let l=q(a.value);await r.value.api(l),R.success({message:`${r.value.title}成功！`}),r.value.getTableList(),n.value=!1}catch{}})}return V({acceptParams:w}),(s,l)=>{const c=u("el-input"),i=u("el-form-item"),m=u("el-option"),U=u("el-select"),k=u("el-input-number"),g=u("el-switch"),x=u("el-form"),v=u("el-button"),A=u("el-drawer");return S(),h(A,{modelValue:n.value,"onUpdate:modelValue":l[6]||(l[6]=o=>n.value=o),"destroy-on-close":!0,size:"600px",title:`${r.value.title}`},{footer:t(()=>[e(v,{onClick:l[5]||(l[5]=o=>n.value=!1)},{default:t(()=>[f(" 取消 ")]),_:1}),y(e(v,{type:"primary",onClick:P},{default:t(()=>[f(" 确定 ")]),_:1},512),[[C,!r.value.isView]])]),default:t(()=>[e(x,{ref_key:"ruleFormRef",ref:p,"label-width":"120px","label-suffix":" :",rules:b,disabled:r.value.isView,model:a.value,"hide-required-asterisk":r.value.isView},{default:t(()=>[e(i,{label:"API名称",prop:"name"},{default:t(()=>[e(c,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.name=o),clearable:"",placeholder:"请输入角色名称"},null,8,["modelValue"])]),_:1}),e(i,{label:"API地址",prop:"apiUrl"},{default:t(()=>[e(c,{modelValue:a.value.apiUrl,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.apiUrl=o),clearable:"",placeholder:"请输入API地址"},null,8,["modelValue"])]),_:1}),e(i,{label:"API方法类型",prop:"method"},{default:t(()=>[e(U,{modelValue:a.value.method,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.method=o),placeholder:"请选择",clearable:""},{default:t(()=>[e(m,{label:"GET",value:"get"}),e(m,{label:"POST",value:"post"}),e(m,{label:"PUT",value:"put"}),e(m,{label:"DELETE",value:"delete"}),e(m,{label:"*",value:"*"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"序号值",prop:"sort"},{default:t(()=>[e(k,{modelValue:a.value.sort,"onUpdate:modelValue":l[3]||(l[3]=o=>a.value.sort=o),"controls-position":"right"},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"openStatus"},{default:t(()=>[e(g,{modelValue:a.value.openStatus,"onUpdate:modelValue":l[4]||(l[4]=o=>a.value.openStatus=o),"active-value":"OPEN","inactive-value":"CLOSE","inline-prompt":"","active-icon":_(D),"inactive-icon":_(T)},null,8,["modelValue","active-icon","inactive-icon"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{B as _};
