
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{d as z,Q as j,o as H,v as N,e as R,x as D,p as x,r as c,b as h,V as M,w as y,a as G,c as L,R as B,S as W,a7 as Q,i as g,Y as T,a2 as U}from"./@vue-DJ53MWs5.js";const Y=z({name:"Grid",__name:"index",props:{cols:{default:()=>({xs:1,sm:2,md:2,lg:3,xl:4})},collapsed:{type:Boolean,default:!1},collapsedRows:{default:1},gap:{default:0}},setup(w,{expose:i}){const a=w;j(()=>a.collapsed&&v()),H(()=>{l({target:{innerWidth:window.innerWidth}}),window.addEventListener("resize",l)}),N(()=>{l({target:{innerWidth:window.innerWidth}}),window.addEventListener("resize",l)}),R(()=>{window.removeEventListener("resize",l)}),D(()=>{window.removeEventListener("resize",l)}),x("gap",Array.isArray(a.gap)?a.gap[0]:a.gap);const s=c("xl");x("breakPoint",s);function l(o){const e=o.target.innerWidth;switch(!!e){case e<768:s.value="xs";break;case(e>=768&&e<992):s.value="sm";break;case(e>=992&&e<1200):s.value="md";break;case(e>=1200&&e<1920):s.value="lg";break;case e>=1920:s.value="xl";break}}const u=c(-1);x("shouldHiddenIndex",u);const p=h(()=>typeof a.cols=="object"?a.cols[s.value]??a.cols:a.cols);x("cols",p);const d=M().default();function v(){var $,k,_,I;const o=[];let e=null;d.forEach(r=>{var f;typeof r.type=="object"&&r.type.name==="GridItem"&&((f=r.props)==null?void 0:f.suffix)!==void 0&&(e=r),typeof r.type=="symbol"&&Array.isArray(r.children)&&o.push(...r.children)});let b=0;e&&(b=((($=e.props[s.value])==null?void 0:$.span)??((k=e.props)==null?void 0:k.span)??1)+(((_=e.props[s.value])==null?void 0:_.offset)??((I=e.props)==null?void 0:I.offset)??0));try{let r=!1;o.reduce((f=0,m,P)=>{var A,E,C,S;if(f+=(((A=m.props[s.value])==null?void 0:A.span)??((E=m.props)==null?void 0:E.span)??1)+(((C=m.props[s.value])==null?void 0:C.offset)??((S=m.props)==null?void 0:S.offset)??0),Number(f)>a.collapsedRows*p.value-b)throw u.value=P,r=!0,new Error("find it");return f},0),r||(u.value=-1)}catch{}}y(()=>s.value,()=>{a.collapsed&&v()}),y(()=>a.collapsed,o=>{if(o)return v();u.value=-1});const t=h(()=>typeof a.gap=="number"?`${a.gap}px`:Array.isArray(a.gap)?`${a.gap[1]}px ${a.gap[0]}px`:"unset"),n=h(()=>({display:"grid",gridGap:t.value,gridTemplateColumns:`repeat(${p.value}, minmax(0, 1fr))`}));return i({breakPoint:s}),(o,e)=>(G(),L("div",{style:W(n.value)},[B(o.$slots,"default")],4))}}),q=z({name:"GridItem",__name:"GridItem",props:{offset:{default:0},span:{default:1},suffix:{type:Boolean,default:!1},xs:{default:void 0},sm:{default:void 0},md:{default:void 0},lg:{default:void 0},xl:{default:void 0}},setup(w){const i=w,a=Q(),s=c(!0),l=g("breakPoint",c("xl")),u=g("shouldHiddenIndex",c(-1));y(()=>[u.value,l.value],t=>{a.index&&(s.value=!(t[0]!==-1&&Number.parseInt(a.index)>=Number(t[0])))},{immediate:!0});const p=g("gap",0),d=g("cols",c(4)),v=h(()=>{var o,e;const t=((o=i[l.value])==null?void 0:o.span)??i.span,n=((e=i[l.value])==null?void 0:e.offset)??i.offset;return i.suffix?{gridColumnStart:d.value-t-n+1,gridColumnEnd:`span ${t+n}`,marginLeft:n!==0?`calc(((100% + ${p}px) / ${t+n}) * ${n})`:"unset"}:{gridColumn:`span ${t+n>d.value?d.value:t+n}/span ${t+n>d.value?d.value:t+n}`,marginLeft:n!==0?`calc(((100% + ${p}px) / ${t+n}) * ${n})`:"unset"}});return(t,n)=>T((G(),L("div",{style:W(v.value)},[B(t.$slots,"default")],4)),[[U,s.value]])}});export{q as _,Y as a};
