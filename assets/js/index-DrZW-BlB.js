
/**
 * 由 MrZhang 提供技术支持
 * Powered by elegant-admin
 * Github https://github.com/zhangyao1990/elegant-admin
 */

import{d as $,i as k,r as S,b,a as u,c as d,f as i,F as D,aa as F,m as M,a0 as w,a1 as r,X as V,u as s,U as j,Y as z,a2 as A}from"./@vue-DJ53MWs5.js";import{d as E}from"./vuedraggable-Ce-5l_FJ.js";import{p,o as G}from"./index-CF0Df7v0.js";import{g as B,f as P}from"./index-BinNfzbw.js";import{_ as I}from"./icon.vue_vue_type_script_setup_true_lang-CXPPfzEY.js";import"./@imengyu-BQwzwvVc.js";import"./vue-CAygiDOH.js";import"./sortablejs-C_eVYoc1.js";import"./vite-plugin-fake-server-4rIte7rE.js";import"./mockjs-Dd0W0IWH.js";import"./floating-vue-DjZaMi6K.js";import"./@floating-ui-Y0iFLo_g.js";import"./vue-m-message-BxJX2Zqc.js";import"./overlayscrollbars-CZjZ1Dbc.js";import"./@iconify-C4HLlXtv.js";import"./overlayscrollbars-vue-BxfA_dC8.js";import"./@headlessui-Bm2TyfRI.js";import"./mitt-DJ65BbbF.js";import"./crypto-js-RCkyKLW7.js";import"./lodash-es-l8Yk8yFo.js";import"./pinia-DmVFObHF.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-Bg2mojPD.js";import"./hotkeys-js-BfWqkGRU.js";import"./element-plus-C6knWGiR.js";import"./@vueuse-DVujDNXP.js";import"./nprogress-BdJdCxhg.js";import"./@element-plus-Ngrzdf6G.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-p2P62yYc.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./vue-i18n-BnGu2oZ8.js";import"./@intlify-CEEhciFb.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-PTJBK6lV.js";import"./path-browserify-DTVwunqE.js";import"./axios-DmypytPv.js";import"./vue-esign-BNnrYaMl.js";const X={class:"elegant-component-view flex flex-col"},Y={class:"flex flex-1 overflow-auto"},q={class:"elegant-tabs-box"},H=["title","onClick"],J={class:"box-border h-full flex-1 overflow-auto py-2"},K={class:"elegant-search-box px-10px py-6px"},O=["onClick"],Q={class:"pt-42px text-center text-gray-400"},Ae=$({__name:"index",setup(R){const L=p.getComponent("input"),v=k("pageSchema"),f=k("design"),g=p.getComponentSchemaGroups(),l=S(""),h={title:"全部",list:[]},n=S(h),N=b(()=>[h,...g.value]),m=b(()=>{let a=n.value.list;if(n.value.title==="全部"){const t=g.value.map(e=>e.list);a=[].concat(...t)}return l.value?a.filter(t=>{var e;return(e=t.label)==null?void 0:e.includes(l.value)}):a});function U(a){n.value=a}function T(a){var _,C,y;const t=P(v.schemas,((_=f.state.checkedNode)==null?void 0:_.id)??"root");if(!t)return!1;let{list:e,schema:o,index:c}=t;o!=null&&o.children&&!((y=(C=p.getComponentConfingByType(o.type))==null?void 0:C.editConstraints)!=null&&y.childImmovable)&&(e=o.children,c=o.children.length-1);const x=B(a);e.splice(c+1,0,x),f.setCheckedNode(x),G.push(v.schemas,"插入组件")}return(a,t)=>(u(),d("div",X,[i("div",Y,[i("div",q,[(u(!0),d(D,null,F(N.value,(e,o)=>(u(),d("div",{key:o,class:M(["elegant-tab cursor-pointer truncate",{checked:n.value.title===e.title}]),title:e.title,onClick:c=>U(e)},w(e.title),11,H))),128))]),i("div",J,[i("div",K,[r(s(L),{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),value:l.value,"onUpdate:value":t[1]||(t[1]=e=>l.value=e),placeholder:"搜索组件",clearable:"","allow-clear":""},{prefix:V(()=>[r(s(I),{name:"icon-chaxun"})]),_:1},8,["modelValue","value"])]),r(s(E),j({modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{clone:s(B),"item-key":"id",class:"grid grid-cols-[auto_auto] gap-2 px-10px"}),{item:V(({element:e})=>[i("div",{class:"elegant-componet-item flex items-center truncate",onClick:o=>T(e)},[r(s(I),{prefix:"",name:s(p).getComponentConfingByType(e.type).icon??""},null,8,["name"]),i("div",null,w(e.label),1)],8,O)]),_:1},16,["modelValue","clone"]),z(i("div",Q," 没有查询到的组件 ",512),[[A,!m.value.length]])])])]))}});export{Ae as default};
